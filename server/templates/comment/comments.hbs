<div id="comment-{{modelName}}-{{modelId}}" class="comment-{{modelName}}-{{modelId}} comments-area {{#unless comments.length}}comments-empty{{/unless}}"  data-modelname="{{modelName}}" data-modelid="{{modelId}}">
  {{#can permission='create_comment' roleNames=locals.req.userRoleNames}}
    <div class="comment-button" onclick="we.comment.showForm('{{modelName}}', '{{modelId}}', event);">{{t "comment.form.button"}}</div>
    <div class="loading-comment-form"></div>
    <div class="comment-form"></div>
  {{/can}}
  <div class="comments-sumary" {{#unless comments.length}}style="display:none;"{{/unless}}>
    {{{t 'comment.list.sumary' size=comments.length count=count}}}
    <a class="show-more-comments-link" href="javascript: we.comment.showAll('{{modelName}}', '{{modelId}}');">
      <span class="show-all-comments">{{t 'comment.list.show.all'}}</span>
    </a>
  </div>
  <div class="comments">
  {{#each comments}}
    {{render-record-teaser modelName='comment' record=this locals=../locals}}
  {{/each}}
  </div>
</div>